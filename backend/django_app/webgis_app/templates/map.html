<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Full Viewport Folium Map</title>
  <style>
    /* Make sure the document fills the viewport */
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      width: 100%;
    }
    /* Container for our map */
    #map-container {
      height: 100%;
      width: 100%;
    }
    /* Try to override Foliumâ€™s inline aspect ratio styles.
       Note: Inline styles can be hard to override purely with CSS,
       so we add !important flags and a higher-specificity rule. */
    #map-container .folium-map,
    #map-container .folium-map > div {
      height: 100% !important;
      padding-bottom: 0 !important;
    }
  </style>
</head>
<body>
  <div id="map-container">
    <!-- Output the Folium map generated in the view -->
    {{ map|safe }}
  </div>

  <!-- Use JavaScript to further override inline styles if necessary -->
  <script>
    // Wait until the DOM content is loaded.
    document.addEventListener("DOMContentLoaded", function() {
      // Try to select the direct child (generated by Folium) inside #map-container.
      var mapElement = document.querySelector("#map-container > div");
      if (mapElement) {
        // Override any inline style settings that force height:0 and padding-bottom.
        mapElement.style.height = "100%";
        mapElement.style.paddingBottom = "0";
      }
    });
  </script>
</body>
</html>
